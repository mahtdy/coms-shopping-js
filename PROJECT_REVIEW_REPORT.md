# ๐ ฺฏุฒุงุฑุด ุจุฑุฑุณ ฺฉุงูู ูพุฑูฺู ูุฑูุดฺฏุงู ุขููุงู

**ุชุงุฑุฎ ุจุฑุฑุณ:** 2025  
**ูุถุนุช:** ุจุฑุฑุณ ุฌุงูุน ุจุฑุง ุดูุงุณุง ููุงุฑุฏ ุฌุง ูุงูุฏู

---

## โ ููุงุฑุฏ ุชฺฉูู ุดุฏู

### ูุงุฒ 1-6: โ ุชฺฉูู ุดุฏู
- โ ุจุฑุฑุณ ู ูุณุชูุฏุณุงุฒ
- โ ุชูฺฉฺฉ ููุทู ููุฌูุฏ
- โ CRUD ฺฉุงูู ุขุฏุฑุณ
- โ ูุญุงุณุจุงุช ูุงู (ุงุฑุณุงูุ ุชุฎููุ ูุงูุงุช)
- โ ูุฏุฑุช ููุฌูุฏ ู ุงูุจุงุฑ
- โ ุชุฎูู ู ูพุฑูููุดู
- โ ฺฏุฒุงุฑุดโุฏู (ูุฑูุดุ ุณูุงุฑุดุ ููุฌูุฏ)

### ูุงุฒ 7: โ ุชฺฉูู ุดุฏู
- โ ูุฏุฑุช ูุถุนุช ุณูุงุฑุด (OrderStatusService)
- โ ุงุชุตุงู Order ุจู Invoice
- โ ุจูุจูุฏ Transaction ู ูุฏุฑุช ุฎุทุง
- โ ูุฒูู ุจุณุชูโุจูุฏ
- โ ุจูุจูุฏ ูุญุงุณุจู ูุฒูู ุงุฑุณุงู
- โ ุชุงุฑุฎฺู ุชุบุฑุงุช ูุถุนุช
- โ ฺฏุฒุงุฑุดโูุง ููุงุณูโุง
- โ ุณุณุชู ุงูุชุงุฒุฏู

### ูุงุฒ 8: โ ุชฺฉูู ุดุฏู
- โ ุงุนุชุจุงุฑุณูุฌ ุขุฏุฑุณ (AddressValidationService)

### ูุงุฒ 9: โ ุชฺฉูู ุดุฏู
- โ ุจูุจูุฏ ฺฏุฒุงุฑุดโูุง ููุงุณูโุง
- โ ุจูุจูุฏ ุณุณุชู ุงูุชุงุฒุฏู

---

## โ๏ธ ููุงุฑุฏ ูุงุฒููุฏ ุชฺฉูู (TODO)

### 1. ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ูุงูุน ๐ด ุงูููุช ุจุงูุง

**ูุถุนุช ูุนู:**
- `MockPaymentGateway` ุงุณุชูุงุฏู ูโุดูุฏ
- ููุท ุจุฑุง ุชุณุช ฺฉุงุฑ ูโฺฉูุฏ

**ูุงุฒููุฏ:**
- ูพุงุฏูโุณุงุฒ `ZarinpalGateway` ุง `SamanGateway`
- ูุฏุฑุช callback ูพุฑุฏุงุฎุช
- ุจุฑุฑุณ ู ุงุนุชุจุงุฑุณูุฌ ูพุฑุฏุงุฎุช
- ูุฏุฑุช ุฎุทุงูุง ูพุฑุฏุงุฎุช

**ูุงู:** `src/apps/services/paymentService.ts`

---

### 2. TODO ูุง ููุฌูุฏ ุฏุฑ ฺฉุฏ โ๏ธ ุงูููุช ูุชูุณุท

#### 2.1 Review Controller
**ูุงู:** `src/apps/admin/controllers/review.ts`
- โ ูพุงุฏูโุณุงุฒ ููุชุฑ ุฏุฑ repository (ุฎุท 47)
- โ ุงุฌุงุฏ ูุชุฏ getAllReviews ุฏุฑ repository (ุฎุท 55, 158)

#### 2.2 Shipping Service
**ูุงู:** `src/apps/services/shippingService.ts`
- โ ูพุงุฏูโุณุงุฒ ุงุณุชูุงุฏู ุงุฒ API ููุดู (ุฎุท 389)
- **ูุงุฒููุฏ:** ุงุณุชูุงุฏู ุงุฒ Google Maps API ุง Map.ir ุจุฑุง ูุญุงุณุจู ุฏูู ูุงุตูู

#### 2.3 Sales Report Service
**ูุงู:** `src/apps/services/salesReportService.ts`
- โ ุจุงุฏ totalCost ุฑุง ุงุฒ productwarehouse ุจฺฏุฑู (ุฎุท 306)
- **ูุงุฒููุฏ:** ูุญุงุณุจู ุฏููโุชุฑ ูุฒูู ุจุฑุง ูุญุงุณุจู ุณูุฏ

#### 2.4 Order Report Service
**ูุงู:** `src/apps/services/orderReportService.ts`
- โ ุจุงุฏ updatedAt ุฑุง ุงุถุงูู ฺฉูู (ุฎุท 314)
- **ูุงุฒููุฏ:** ุงุณุชูุงุฏู ุงุฒ `updatedAt` ุจู ุฌุง `createdAt` ุจุฑุง lastUpdated

#### 2.5 Discount Service
**ูุงู:** `src/apps/services/discountService.ts`
- โ ุจุงุฏ ุงุฒ user model ุงุทูุงุนุงุช gender ู age ุฑุง ุจฺฏุฑู (ุฎุท 260)
- **ูุงุฒููุฏ:** ุจุฑุง ููุชุฑูุง ฺฉุงุฑุจุฑ (ุฌูุณุชุ ุณู)

---

### 3. ุชุณุชโูุง โ๏ธ ุงูููุช ุจุงูุง

**ูุถุนุช ูุนู:**
- ููุท 2 ุชุณุช ูุฌูุฏ ุฏุงุฑุฏ:
  - `src/apps/user/controllers/__tests__/basket.test.ts`
  - `src/apps/admin/controllers/__tests__/discount.test.ts`

**ูุงุฒููุฏ:**
- ุชุณุชโูุง ูุงุญุฏ ุจุฑุง ููู ุณุฑูุณโูุง:
  - โ BasketOrderService
  - โ InventoryService
  - โ DiscountService
  - โ ShippingService
  - โ TaxService
  - โ OrderStatusService
  - โ InvoiceService
  - โ PackagingService
  - โ ReviewService
  - โ AddressValidationService

- ุชุณุชโูุง Integration:
  - โ ุฌุฑุงู ฺฉุงูู ุณูุงุฑุด (ุงุฒ ุณุจุฏ ุชุง ูพุฑุฏุงุฎุช)
  - โ ูุฏุฑุช ููุฌูุฏ
  - โ ุณุณุชู ุชุฎูู

- ุชุณุชโูุง E2E:
  - โ ุซุจุช ุณูุงุฑุด ฺฉุงูู
  - โ ูุฏุฑุช ูุถุนุช ุณูุงุฑุด
  - โ ุณุณุชู ุงูุชุงุฒุฏู

---

### 4. ูุณุชูุฏุงุช API โ๏ธ ุงูููุช ูุชูุณุท

**ูุถุนุช ูุนู:**
- โ ูุณุชูุฏุงุช ูพุฑูฺู ูุฌูุฏ ุฏุงุฑุฏ (PROJECT_DOCUMENTATION.md)
- โ ููุดู ุฑุงู ูุฌูุฏ ุฏุงุฑุฏ (DEVELOPMENT_ROADMAP.md)
- โ API Documentation (Swagger/OpenAPI) ูุฌูุฏ ูุฏุงุฑุฏ

**ูุงุฒููุฏ:**
- ุงุฌุงุฏ Swagger/OpenAPI documentation
- ูุณุชูุฏุณุงุฒ ููู endpoint ูุง
- ูุซุงูโูุง request/response

---

### 5. ุงููุช โ๏ธ ุงูููุช ุจุงูุง

**ููุงุฑุฏ ูุงุฒููุฏ ุจุฑุฑุณ:**

#### 5.1 Rate Limiting
- โ Rate limiting ุจุฑุง API endpoints
- **ูุงุฒููุฏ:** ุฌููฺฏุฑ ุงุฒ abuse ู DDoS

#### 5.2 Input Validation
- โ Zod validation ูุฌูุฏ ุฏุงุฑุฏ
- โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ ฺฉุงููโุชุฑ ุจุฑุง edge cases

#### 5.3 Authentication & Authorization
- โ ุณุณุชู ุงุญุฑุงุฒ ููุช ูุฌูุฏ ุฏุงุฑุฏ
- โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ ุฏุณุชุฑุณโูุง (RBAC)

#### 5.4 SQL Injection / NoSQL Injection
- โ Mongoose ุงุฒ injection ุฌููฺฏุฑ ูโฺฉูุฏ
- โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ query ูุง ุฏุณุช

---

### 6. ุนููฺฉุฑุฏ (Performance) โ๏ธ ุงูููุช ูุชูุณุท

#### 6.1 Caching
- โ Caching ุจุฑุง ุฏุงุฏูโูุง ูพุฑุชฺฉุฑุงุฑ:
  - ูุณุช ูุญุตููุงุช
  - ุฏุณุชูโุจูุฏโูุง
  - ฺฏุฒุงุฑุดโูุง

#### 6.2 Database Indexing
- โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ index ูุง MongoDB
- **ูุงุฒููุฏ:** Index ุจุฑุง:
  - `order.user`
  - `order.orderStatus`
  - `order.createdAt`
  - `productReview.product`
  - `productReview.user`

#### 6.3 Query Optimization
- โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ query ูุง ฺฉูุฏ
- ุงุณุชูุงุฏู ุงุฒ `lean()` ุจุฑุง query ูุง read-only

---

### 7. ูฺฺฏโูุง ุงุถุงู (Nice to Have) ๐ข ุงูููุช ูพุงู

#### 7.1 ุฎุฑูุฌ Excel/PDF
- โ Export ฺฏุฒุงุฑุดโูุง ุจู Excel
- โ Export ฺฏุฒุงุฑุดโูุง ุจู PDF
- **ูุงูโูุง ูุงุฒููุฏ:** `src/apps/admin/controllers/report.ts`

#### 7.2 ุณุณุชู ุจุงุฒฺฏุดุช ฺฉุงูุง (Return/Refund)
- โ ุฏุฑุฎูุงุณุช ุจุงุฒฺฏุดุช ฺฉุงูุง
- โ ุจุฑุฑุณ ู ุชุงุฏ ุจุงุฒฺฏุดุช
- โ ุจุงุฒฺฏุดุช ููุฌูุฏ ุจู ุงูุจุงุฑ
- โ ุจุงุฒฺฏุดุช ูุฌู

#### 7.3 ุณุณุชู ุฌุณุชุฌู ูพุดุฑูุชู
- โ๏ธ ุฌุณุชุฌู ุณุงุฏู ูุฌูุฏ ุฏุงุฑุฏ
- โ ุฌุณุชุฌู ูพุดุฑูุชู ุจุง ููุชุฑูุง
- โ ูพุดููุงุฏ ูุญุตููุงุช ูุดุงุจู

#### 7.4 ุณุณุชู ูพฺฏุฑ ูพุดุฑูุชู
- โ ูพฺฏุฑ ุณุงุฏู ูุฌูุฏ ุฏุงุฑุฏ
- โ ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ูุถุนุช ุงุฒ ูพฺฉ
- โ ููุดู ูุณุฑ ูพฺฉ
- โ ุชุฎูู ุฒูุงู ุชุญูู

#### 7.5 ุงุนูุงูโูุง (Notifications)
- โ ุงุนูุงู ุชุบุฑ ูุถุนุช ุณูุงุฑุด (SMS/Push)
- โ๏ธ ูุงุฒ ุจู ุจูุจูุฏ:
  - Retry mechanism
  - Logging
  - Template management

---

### 8. ูุฏุฑุช ุฎุทุง โ๏ธ ุงูููุช ูุชูุณุท

**ูุถุนุช ูุนู:**
- โ try-catch ุฏุฑ ุงฺฉุซุฑ ุฌุงูุง
- โ๏ธ ูุงุฒ ุจู ุจูุจูุฏ:
  - Error logging (Winston/Morgan)
  - Error tracking (Sentry)
  - Error messages ฺฉุณุงู

---

### 9. ูุงฺฏโฺฏุฐุงุฑ (Logging) โ๏ธ ุงูููุช ูุชูุณุท

**ูุถุนุช ูุนู:**
- โ๏ธ ุงุณุชูุงุฏู ุงุฒ `console.log`
- **ูุงุฒููุฏ:**
  - ุงุณุชูุงุฏู ุงุฒ Winston ุง Pino
  - Log levels (error, warn, info, debug)
  - Log rotation

---

### 10. Environment Variables โ๏ธ ุงูููุช ุจุงูุง

**ูุถุนุช ูุนู:**
- โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ `.env` ู `.env.example`
- **ูุงุฒููุฏ:**
  - ูุณุชูุฏุณุงุฒ ููู ูุชุบุฑูุง ูุญุท
  - Validation ุจุฑุง ูุชุบุฑูุง ุถุฑูุฑ

---

## ๐ ุฎูุงุตู ุงูููุชโุจูุฏ

### ๐ด ุงูููุช ุจุงูุง (ุถุฑูุฑ ุจุฑุง Production)
1. โ ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ูุงูุน
2. โ ุชุณุชโูุง ฺฉุงูู
3. โ ุงููุช (Rate Limiting, RBAC)
4. โ Environment Variables

### ๐ก ุงูููุช ูุชูุณุท (ุจูุจูุฏ ฺฉูุช)
1. โ TODO ูุง ููุฌูุฏ ุฏุฑ ฺฉุฏ
2. โ ูุณุชูุฏุงุช API (Swagger)
3. โ ุนููฺฉุฑุฏ (Caching, Indexing)
4. โ ูุฏุฑุช ุฎุทุง ู ูุงฺฏโฺฏุฐุงุฑ

### ๐ข ุงูููุช ูพุงู (ูฺฺฏโูุง ุงุถุงู)
1. โ ุฎุฑูุฌ Excel/PDF
2. โ ุณุณุชู ุจุงุฒฺฏุดุช ฺฉุงูุง
3. โ ุฌุณุชุฌู ูพุดุฑูุชู
4. โ ูพฺฏุฑ ูพุดุฑูุชู

---

## ๐ฏ ุชูุตูโูุง ููุฑ

### 1. ุชฺฉูู TODO ูุง
- ูพุงุฏูโุณุงุฒ ููุชุฑ ุฏุฑ Review Repository
- ุงุณุชูุงุฏู ุงุฒ API ููุดู ุฏุฑ Shipping Service
- ูุญุงุณุจู ุฏูู totalCost ุฏุฑ Sales Report
- ุงุณุชูุงุฏู ุงุฒ updatedAt ุฏุฑ Order Report
- ุฏุฑุงูุช gender ู age ุงุฒ User Model

### 2. ุชุณุชโูุง
- ููุดุชู ุชุณุชโูุง ูุงุญุฏ ุจุฑุง ููู ุณุฑูุณโูุง
- ููุดุชู ุชุณุชโูุง Integration
- ููุดุชู ุชุณุชโูุง E2E

### 3. ุงููุช
- ูพุงุฏูโุณุงุฒ Rate Limiting
- ุจุฑุฑุณ RBAC
- ุจุฑุฑุณ Input Validation

### 4. ูุณุชูุฏุงุช
- ุงุฌุงุฏ Swagger/OpenAPI documentation
- ุจูโุฑูุฒุฑุณุงู ูุณุชูุฏุงุช ุจุง ุชุบุฑุงุช ุฌุฏุฏ

---

## โ ูุชุฌูโฺฏุฑ

ูพุฑูฺู ุฏุฑ ูุถุนุช ุฎูุจ ูุฑุงุฑ ุฏุงุฑุฏ ู ุงฺฉุซุฑ ูฺฺฏโูุง ุงุตู ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ. ููุงุฑุฏ ุฒุฑ ูุงุฒ ุจู ุชูุฌู ุฏุงุฑูุฏ:

1. **ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ูุงูุน** - ุถุฑูุฑ ุจุฑุง production
2. **ุชุณุชโูุง** - ุจุฑุง ุงุทููุงู ุงุฒ ฺฉูุช
3. **TODO ูุง ููุฌูุฏ** - ุจุฑุง ุชฺฉูู ูฺฺฏโูุง
4. **ุงููุช** - ุจุฑุง ูุญุงูุธุช ุงุฒ ุณุณุชู
5. **ูุณุชูุฏุงุช API** - ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู

---

**ุชูุณุนูโุฏููุฏฺฏุงู:** Hasan Mohammadi, Mahtdy  
**ูุณุฎู:** 1.0.0

