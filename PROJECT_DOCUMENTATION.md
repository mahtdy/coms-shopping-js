# ğŸ“š Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„ Ù¾Ø±ÙˆÚ˜Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ†

**Ù†Ø³Ø®Ù‡:** 1.0.0  
**ØªØ§Ø±ÛŒØ®:** 2025  
**ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†:** Hasan Mohammadi, Mahtdy

---

## ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

1. [Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#Ù…Ø¹Ø±ÙÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
2. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø³ÛŒØ³ØªÙ…)
3. [Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡](#Ø³Ø§Ø®ØªØ§Ø±-Ù¾Ø±ÙˆÚ˜Ù‡)
4. [Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª](#Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ-Ù¾Ù†Ù„-Ù…Ø¯ÛŒØ±ÛŒØª)
5. [Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ](#Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ-Ù¾Ù†Ù„-Ú©Ø§Ø±Ø¨Ø±ÛŒ)
6. [Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú©](#Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ-Ù…Ø´ØªØ±Ú©)
7. [Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡](#Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ-Ø¯Ø§Ø¯Ù‡)
8. [API Endpoints](#api-endpoints)
9. [Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡](#Ù†Ø­ÙˆÙ‡-Ø§Ø³ØªÙØ§Ø¯Ù‡)
10. [Ø§Ù…Ù†ÛŒØª](#Ø§Ù…Ù†ÛŒØª)

---

## Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ø³ÛŒØ³ØªÙ… ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©Ø§Ù…Ù„ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Node.jsØŒ ExpressØŒ TypeScript Ùˆ MongoDB ØªÙˆØ³Ø¹Ù‡ ÛŒØ§ÙØªÙ‡ Ø§Ø³Øª. Ù¾Ø±ÙˆÚ˜Ù‡ Ø´Ø§Ù…Ù„ Ø¯Ùˆ Ø¨Ø®Ø´ Ø§ØµÙ„ÛŒ Ø§Ø³Øª:

- **Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª (Admin Panel)**: Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§ØªØŒ Ø³ÙØ§Ø±Ø´Ø§ØªØŒ Ø§Ù†Ø¨Ø§Ø± Ùˆ Ø³Ø§ÛŒØ± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…
- **Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ (User Panel)**: Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ØŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ùˆ Ø³ÙØ§Ø±Ø´Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§  
âœ… Ø³ÛŒØ³ØªÙ… Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ùˆ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´  
âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ Ø§Ù†Ø¨Ø§Ø±  
âœ… Ø³ÛŒØ³ØªÙ… ØªØ®ÙÛŒÙ Ùˆ Ú©Ø¯Ù‡Ø§ÛŒ ØªØ®ÙÛŒÙ  
âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±  
âœ… Ø³ÛŒØ³ØªÙ… Ù¾ÛŒÚ© Ùˆ Ø§Ø±Ø³Ø§Ù„  
âœ… Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø±ÛŒØ§Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø­ØµÙˆÙ„  
âœ… Ø³ÛŒØ³ØªÙ… Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª  

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…

### Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ

Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø² Ù…Ø¹Ù…Ø§Ø±ÛŒ **Layered Architecture** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Express Application         â”‚
â”‚    (ExpressApplication Layer)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Part   â”‚   â”‚   User Part   â”‚
â”‚  (Controllers)â”‚   â”‚  (Controllers)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Shared Services  â”‚
        â”‚  (basketOrder,    â”‚
        â”‚   inventory)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Repositories    â”‚
        â”‚   (Mongoose ODM)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     MongoDB       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ù…ÙØ§Ù‡ÛŒÙ… Ú©Ù„ÛŒØ¯ÛŒ

#### 1. Part (Ø¨Ø®Ø´)
Ù‡Ø± `Part` ÛŒÚ© Ù…Ø§Ú˜ÙˆÙ„ Ù…Ø³ØªÙ‚Ù„ Ø§Ø³Øª Ú©Ù‡ Ø´Ø§Ù…Ù„:
- **Controllers**: Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¢Ù† Ø¨Ø®Ø´
- **Login Controller**: Ú©Ù†ØªØ±Ù„Ø± Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ù…Ø®ØµÙˆØµ Ø¢Ù† Ø¨Ø®Ø´
- **Base Route**: Ù…Ø³ÛŒØ± Ù¾Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… endpoint Ù‡Ø§ÛŒ Ø¢Ù† Ø¨Ø®Ø´

#### 2. Controller (Ú©Ù†ØªØ±Ù„Ø±)
Ù‡Ø± Ú©Ù†ØªØ±Ù„Ø± Ø§Ø² Ú©Ù„Ø§Ø³ `BaseController` ÛŒØ§ `BasePageController` Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø´Ø§Ù…Ù„:
- **CRUD Operations**: Ø¹Ù…Ù„ÛŒØ§Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø§ÛŒØ¬Ø§Ø¯ØŒ Ø®ÙˆØ§Ù†Ø¯Ù†ØŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ùˆ Ø­Ø°Ù
- **Custom Routes**: Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Decorator Ù‡Ø§
- **Validation**: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Zod

#### 3. Service (Ø³Ø±ÙˆÛŒØ³)
Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú© Ú©Ù‡ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ø±Ø§ Ø§Ø² Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ Ø¬Ø¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:
- **BasketOrderService**: ØªØ¨Ø¯ÛŒÙ„ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´
- **InventoryService**: Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª

#### 4. Repository (Ù…Ø®Ø²Ù†)
Ù„Ø§ÛŒÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡ Ú©Ù‡ Ø¨Ø§ Mongoose Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¹Ù…Ù„ÛŒØ§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

---

## Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

```
server-cursor/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.ts                          # ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
â”‚   â”œâ”€â”€ start.ts                        # Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯ Ø¨Ø±Ù†Ø§Ù…Ù‡
â”‚   â”‚
â”‚   â”œâ”€â”€ apps/                           # Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
â”‚   â”‚   â”œâ”€â”€ admin/                      # Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.ts                # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø®Ø´ Ø§Ø¯Ù…ÛŒÙ†
â”‚   â”‚   â”‚   â”œâ”€â”€ login.ts                # Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø§Ø¯Ù…ÛŒÙ†
â”‚   â”‚   â”‚   â””â”€â”€ controllers/            # Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
â”‚   â”‚   â”‚       â”œâ”€â”€ product.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ order.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ basket.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ warehouse.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ address.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ discount.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ brand.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ courier.ts
â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ user/                       # Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts                 # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø®Ø´ Ú©Ø§Ø±Ø¨Ø±
â”‚   â”‚   â”‚   â”œâ”€â”€ login.ts                # Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ú©Ø§Ø±Ø¨Ø±
â”‚   â”‚   â”‚   â””â”€â”€ controllers/            # Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
â”‚   â”‚   â”‚       â”œâ”€â”€ product.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ order.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ basket.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ address.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ discount.ts
â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ services/                    # Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú©
â”‚   â”‚       â”œâ”€â”€ basketOrderService.ts    # Ø³Ø±ÙˆÛŒØ³ ØªØ¨Ø¯ÛŒÙ„ Ø³Ø¨Ø¯ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´
â”‚   â”‚       â””â”€â”€ inventoryService.ts      # Ø³Ø±ÙˆÛŒØ³ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                           # Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ ÙØ±ÛŒÙ…ÙˆØ±Ú©
â”‚   â”‚   â”œâ”€â”€ application.ts              # Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Application
â”‚   â”‚   â”œâ”€â”€ expressApplication.ts        # Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Express
â”‚   â”‚   â”œâ”€â”€ controller.ts                # Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Controller
â”‚   â”‚   â”œâ”€â”€ part.ts                     # Ú©Ù„Ø§Ø³ Part
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ decorators/                 # Decorator Ù‡Ø§
â”‚   â”‚   â”‚   â”œâ”€â”€ method.ts                # @Get, @Post, @Put, @Delete
â”‚   â”‚   â”‚   â””â”€â”€ parameters.ts            # @Body, @Query, @User, @Admin
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ mongoose-controller/        # Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Mongoose
â”‚   â”‚   â”‚   â”œâ”€â”€ controller.ts            # BaseController
â”‚   â”‚   â”‚   â”œâ”€â”€ repository.ts            # BaseRepository
â”‚   â”‚   â”‚   â””â”€â”€ controllers/             # Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ express/                     # Express Middlewares
â”‚   â”‚   â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ uploader.ts          # Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
â”‚   â”‚   â”‚   â””â”€â”€ session.ts               # Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ù„Ø³Ø§Øª
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ services/                    # Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù‡Ø³ØªÙ‡
â”‚   â”‚       â”œâ”€â”€ config.ts
â”‚   â”‚       â”œâ”€â”€ fileManager.ts
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ repositories/                    # Repository Ù‡Ø§ÛŒ Mongoose
â”‚       â””â”€â”€ admin/
â”‚           â”œâ”€â”€ product/
â”‚           â”‚   â”œâ”€â”€ model.ts              # Ù…Ø¯Ù„ Mongoose
â”‚           â”‚   â””â”€â”€ repository.ts        # Repository
â”‚           â”œâ”€â”€ order/
â”‚           â”œâ”€â”€ basket/
â”‚           â”œâ”€â”€ warehouse/
â”‚           â””â”€â”€ ...
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª

### 1. Product Controller (`/admin/product`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/product.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ø§ÛŒØ¬Ø§Ø¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ØŒ Ø­Ø°Ù Ùˆ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
- âœ… Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø§ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
- âœ… Pagination Ø¨Ø±Ø§ÛŒ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
- âœ… Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ø¨Ø±Ù†Ø¯
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª ØªØµØ§ÙˆÛŒØ± Ùˆ ØªÙˆØ¶ÛŒØ­Ø§Øª

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `POST /admin/product` - Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯
- `GET /admin/product` - Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª (Ø¨Ø§ pagination)
- `PUT /admin/product/update` - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„
- `GET /admin/product/:id` - Ø¯Ø±ÛŒØ§ÙØª ÛŒÚ© Ù…Ø­ØµÙˆÙ„
- `DELETE /admin/product/:id` - Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„

**Schema Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ:**
```typescript
{
  brand: ObjectId,
  catID: ObjectId,
  title: string,
  summary: string,
  price: number (positive integer),
  features: Array<{id: ObjectId, values: Array}>,
  image: string (URL),
  description: string (min 200 chars),
  category: Array<{id: ObjectId, title: Array}>
}
```

---

### 2. Order Controller (`/admin/order`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/order.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø§Ø² Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
- âœ… Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‚ÛŒÙ…Øª Ú©Ù„
- âœ… Ø§Ø¹Ù…Ø§Ù„ ØªØ®ÙÛŒÙ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾Ø³ Ø§Ø² Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´
- âœ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ù…Ø´ØªØ±Ú© `BasketOrderService`

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `POST /admin/order/checkout` - Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯
  - **Body:** `{orderList: Array<{productwarehouse: ObjectId, quantity: number}>}`
  - **Response:** `{order, discount, payment, totals}`

**Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø±:**
1. Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ ØªØ¹Ø¯Ø§Ø¯
2. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‡Ø± Ù…Ø­ØµÙˆÙ„
3. Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ú©Ù„
4. Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
5. Ø§Ø¹Ù…Ø§Ù„ ØªØ®ÙÛŒÙ (Ø¯Ø± ØµÙˆØ±Øª ÙˆØ¬ÙˆØ¯)
6. Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±Ø¯Ø§Ø®Øª ØªØ³ØªÛŒ

---

### 3. Basket Controller (`/admin/basket`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/basket.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ (Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†)

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… CRUD Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø¨Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†

---

### 4. Warehouse Controller (`/admin/warehouse`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/warehouse.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§ Ùˆ Ù…ÙˆØ¬ÙˆØ¯ÛŒ

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§ (Ø§ÛŒØ¬Ø§Ø¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ØŒ Ø­Ø°Ù)
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±
- âœ… ÙØ§Ú©ØªÙˆØ± Ø®Ø±ÛŒØ¯ (Purchase Invoice)
- âœ… ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´ (Sale Invoice)
- âœ… Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÛŒÙ† Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§
- âœ… ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ÛŒ
- âœ… Ú¯Ø²Ø§Ø±Ø´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù…

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `GET /admin/warehouse` - Ù„ÛŒØ³Øª Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§
- `POST /admin/warehouse` - Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù†Ø¨Ø§Ø± Ø¬Ø¯ÛŒØ¯
- `GET /admin/warehouse/:warehouseId/inventory` - Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÛŒÚ© Ø§Ù†Ø¨Ø§Ø±
- `POST /admin/warehouse/:warehouseId/inventory` - Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ
- `PUT /admin/warehouse/inventory/:inventory_id` - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
- `POST /admin/warehouse/purchase-invoices` - Ø§ÛŒØ¬Ø§Ø¯ ÙØ§Ú©ØªÙˆØ± Ø®Ø±ÛŒØ¯
- `POST /admin/warehouse/sale-invoices` - Ø§ÛŒØ¬Ø§Ø¯ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´
- `POST /admin/warehouse/warehouse-transfers` - Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÛŒÙ† Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§
- `GET /admin/warehouse/inventory/low-stock` - Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù…
- `GET /admin/warehouse/inventory/history/:inventory_id` - ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª

**Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³:**
Ø§ÛŒÙ† Ú©Ù†ØªØ±Ù„Ø± Ø§Ø² `InventoryService` Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

### 5. Address Controller (`/admin/address`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/address.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±
- âœ… Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯
- âœ… ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³
- âœ… Ø­Ø°Ù Ø¢Ø¯Ø±Ø³
- âœ… Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÛŒ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø¯Ø±Ø³ Ù¾ÛŒØ´â€ŒÙØ±Ø¶

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `GET /admin/address/user` - Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `POST /admin/address/user` - Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `PUT /admin/address/user` - ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `DELETE /admin/address/user` - Ø­Ø°Ù Ø¢Ø¯Ø±Ø³ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `GET /admin/address/search` - Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÛŒ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§

**Ù†Ú©ØªÙ‡:** Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¢Ø±Ø§ÛŒÙ‡ (`addressList`) Ø¯Ø± ÛŒÚ© Ø±Ú©ÙˆØ±Ø¯ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

---

### 6. Discount Controller (`/admin/discount`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/discount.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§ Ùˆ Ú©Ø¯Ù‡Ø§ÛŒ ØªØ®ÙÛŒÙ

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ø§ÛŒØ¬Ø§Ø¯ ØªØ®ÙÛŒÙ Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø®ØªÙ„Ù
- âœ… ØªÙˆÙ„ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ú©Ø¯ ØªØ®ÙÛŒÙ Ù¾Ø³ Ø§Ø² ÙØ§Ú©ØªÙˆØ±
- âœ… Ø§Ù†ÙˆØ§Ø¹ ØªØ®ÙÛŒÙ: fixed, random, percent
- âœ… Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù (Ø§ÙˆÙ„ÛŒÙ† Ø®Ø±ÛŒØ¯ØŒ Ø¨Ø§Ø²Ù‡ Ù…Ø¨Ù„ØºÛŒØŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø³ÙˆØ¯)

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `POST /admin/discount/generate-after-invoice` - ØªÙˆÙ„ÛŒØ¯ Ú©Ø¯ ØªØ®ÙÛŒÙ Ù¾Ø³ Ø§Ø² ÙØ§Ú©ØªÙˆØ±
- `GET /admin/discount/list` - Ù„ÛŒØ³Øª ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§

**Ø§Ù†ÙˆØ§Ø¹ ØªØ®ÙÛŒÙ:**
- **Fixed**: Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª
- **Random**: Ù…Ø¨Ù„Øº ØªØµØ§Ø¯ÙÛŒ Ø¯Ø± ÛŒÚ© Ø¨Ø§Ø²Ù‡
- **Percent**: Ø¯Ø±ØµØ¯ÛŒ Ø§Ø² Ù‚ÛŒÙ…Øª Ú©Ù„

---

### 7. Brand Controller (`/admin/brand`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/brand.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ù†Ø¯Ù‡Ø§

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… CRUD Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø¯Ù‡Ø§
- âœ… Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª

---

### 8. Courier Controller (`/admin/courier`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/courier.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒÚ©â€ŒÙ‡Ø§

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒÚ©â€ŒÙ‡Ø§ (Ø§ÛŒØ¬Ø§Ø¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´)
- âœ… Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù¾ÛŒÚ©
- âœ… ØªØ®ØµÛŒØµ Ø¨Ø³ØªÙ‡ Ø¨Ù‡ Ù¾ÛŒÚ©
- âœ… Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø³ÛŒØ±Ù‡Ø§

---

### 9. ProductWarehouse Controller (`/admin/productwarehouse`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/productwarehouse.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… CRUD Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ù‚ÛŒÙ…Øª Ùˆ Ù…ÙˆØ¬ÙˆØ¯ÛŒ

---

### 10. ProductVariant Controller (`/admin/productvariant`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/productVariant.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø±ÛŒØ§Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø­ØµÙˆÙ„

---

### 11. ProductWarranty Controller (`/admin/productwarranty`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/productWarranty.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª

---

### 12. Warranty Controller (`/admin/warranty`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/warranty.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø§Ø±Ø§Ù†ØªÛŒâ€ŒÙ‡Ø§

---

### 13. Article Controller (`/admin/article`)

**Ù…Ø³ÛŒØ±:** `src/apps/admin/controllers/article.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ Ù…Ø­ØªÙˆØ§

---

### 14. CategoryContent Controller

**Ù…Ø³ÛŒØ±:** `src/core/mongoose-controller/controllers/categoryContent.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§

---

## Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ

### 1. Product Controller (`/user/product`)

**Ù…Ø³ÛŒØ±:** `src/apps/user/controllers/product.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ù‚Ø§Ø¨Ù„ Ø®Ø±ÛŒØ¯
- âœ… Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª
- âœ… Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„

---

### 2. Basket Controller (`/user/basket`)

**Ù…Ø³ÛŒØ±:** `src/apps/user/controllers/basket.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø±

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯
- âœ… Ø§ÙØ²Ø§ÛŒØ´/Ú©Ø§Ù‡Ø´ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„
- âœ… Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ø³Ø¨Ø¯
- âœ… **Checkout**: ØªØ¨Ø¯ÛŒÙ„ Ø³Ø¨Ø¯ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `POST /user/basket` - Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯
- `POST /user/basket/increase` - Ø§ÙØ²Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `POST /user/basket/decrease` - Ú©Ø§Ù‡Ø´ ØªØ¹Ø¯Ø§Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `POST /user/basket/checkout` - ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
  - **Body:** 
    ```json
    {
      "address": "ObjectId",
      "offCode": "string",
      "sendType": number,
      "sendTime": number,
      "sendDate": number,
      "isBig": number,
      "typePeyment": number,
      "totalPriceProducts": number
    }
    ```
  - **Response:** `{order, payment, totals}`

**Ø¬Ø±ÛŒØ§Ù† Checkout:**
1. Ø¯Ø±ÛŒØ§ÙØª Ø³Ø¨Ø¯ Ú©Ø§Ø±Ø¨Ø±
2. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª
3. Ø§ÛŒØ¬Ø§Ø¯ Ø³ÙØ§Ø±Ø´ Ø§Ø² Ø·Ø±ÛŒÙ‚ `BasketOrderService`
4. Ø§ØªØµØ§Ù„ Ø¢Ø¯Ø±Ø³ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´
5. Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±Ø¯Ø§Ø®Øª ØªØ³ØªÛŒ
6. Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯

---

### 3. Order Controller (`/user/order`)

**Ù…Ø³ÛŒØ±:** `src/apps/user/controllers/order.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª Ú©Ø§Ø±Ø¨Ø±

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª Ú©Ø§Ø±Ø¨Ø±
- âœ… Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯

---

### 4. Address Controller (`/user/address`)

**Ù…Ø³ÛŒØ±:** `src/apps/user/controllers/address.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- âœ… Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±
- âœ… Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯
- âœ… ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³
- âœ… Ø­Ø°Ù Ø¢Ø¯Ø±Ø³
- âœ… ØªÙ†Ø¸ÛŒÙ… Ø¢Ø¯Ø±Ø³ Ù¾ÛŒØ´â€ŒÙØ±Ø¶

**Endpoint Ù‡Ø§ÛŒ Ù…Ù‡Ù…:**
- `GET /user/address` - Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `POST /user/address` - Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `PUT /user/address` - ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `DELETE /user/address` - Ø­Ø°Ù Ø¢Ø¯Ø±Ø³ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)
- `PUT /user/address/default` - ØªÙ†Ø¸ÛŒÙ… Ø¢Ø¯Ø±Ø³ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ (Ù†ÛŒØ§Ø² Ø¨Ù‡ login)

---

### 5. Discount Controller (`/user/discount`)

**Ù…Ø³ÛŒØ±:** `src/apps/user/controllers/discount.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§

---

### 6. Account Controller (`/user/account`)

**Ù…Ø³ÛŒØ±:** `src/apps/user/controllers/account.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ

---

### 7. Ticket Controller (`/user/ticket`)

**Ù…Ø³ÛŒØ±:** `src/core/mongoose-controller/controllers/user/ticket.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ø±Ø¨Ø±

---

## Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú©

### 1. BasketOrderService

**Ù…Ø³ÛŒØ±:** `src/apps/services/basketOrderService.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø³Ø±ÙˆÛŒØ³ Ù…Ø´ØªØ±Ú© Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´

**Ú©Ù„Ø§Ø³:** `BasketOrderService`

**Ù…ØªØ¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**

#### `checkoutFromBasket(user: UserInfo, meta: CheckoutMeta): Promise<Response>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** ØªØ¨Ø¯ÛŒÙ„ Ø³Ø¨Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø³ÙØ§Ø±Ø´
- **ÙˆØ±ÙˆØ¯ÛŒ:**
  - `user`: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
  - `meta`: Ø§Ø·Ù„Ø§Ø¹Ø§Øª checkout (Ø¢Ø¯Ø±Ø³ØŒ Ú©Ø¯ ØªØ®ÙÛŒÙØŒ Ù†ÙˆØ¹ Ø§Ø±Ø³Ø§Ù„ Ùˆ ...)
- **Ø®Ø±ÙˆØ¬ÛŒ:** `{order, totals, paymentIntent}`

#### `createOrderFromList(userId: string, orderList: Order["orderList"], meta?: CheckoutMeta): Promise<OrderCreationResult>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø§ÛŒØ¬Ø§Ø¯ Ø³ÙØ§Ø±Ø´ Ø§Ø² Ù„ÛŒØ³Øª Ù…Ø³ØªÙ‚ÛŒÙ… (Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†)
- **ÙˆØ±ÙˆØ¯ÛŒ:**
  - `userId`: Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±
  - `orderList`: Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
  - `meta`: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ
- **Ø®Ø±ÙˆØ¬ÛŒ:** `{order, totals, paymentIntent}`

**Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø±:**
1. Ø¯Ø±ÛŒØ§ÙØª Ø³Ø¨Ø¯ Ú©Ø§Ø±Ø¨Ø± (Ø¯Ø± `checkoutFromBasket`)
2. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‡Ø± Ù…Ø­ØµÙˆÙ„
3. Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ú©Ù„
4. Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø§ØªØµØ§Ù„ Ø¢Ø¯Ø±Ø³ (Ø¯Ø± ØµÙˆØ±Øª ÙˆØ¬ÙˆØ¯)
5. Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
6. Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯
7. Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±Ø¯Ø§Ø®Øª ØªØ³ØªÛŒ

**Ù†Ú©ØªÙ‡:** Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø§Ø² `PaymentGatewayStub` Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ù…ØªØµÙ„ Ø´ÙˆØ¯.

---

### 2. InventoryService

**Ù…Ø³ÛŒØ±:** `src/apps/services/inventoryService.ts`

**ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø³Ø±ÙˆÛŒØ³ Ù…Ø´ØªØ±Ú© Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ ØªØ§Ø±ÛŒØ®Ú†Ù‡

**Ú©Ù„Ø§Ø³:** `InventoryService`

**Ù…ØªØ¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**

#### `adjustStock(warehouseId: string, variantId: string, batchNumber: string, quantityChange: number, variantPrice: number, purchasePrice: number): Promise<Productwarehouse>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ Ú©Ø§Ù‡Ø´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
- **ÙˆØ±ÙˆØ¯ÛŒ:**
  - `warehouseId`: Ø´Ù†Ø§Ø³Ù‡ Ø§Ù†Ø¨Ø§Ø±
  - `variantId`: Ø´Ù†Ø§Ø³Ù‡ ÙˆØ§Ø±ÛŒØ§Ù†Øª
  - `batchNumber`: Ø´Ù…Ø§Ø±Ù‡ Ø¨Ú†
  - `quantityChange`: ØªØºÛŒÛŒØ± Ù…Ù‚Ø¯Ø§Ø± (Ù…Ø«Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ØŒ Ù…Ù†ÙÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´)
  - `variantPrice`: Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´
  - `purchasePrice`: Ù‚ÛŒÙ…Øª Ø®Ø±ÛŒØ¯
- **Ø®Ø±ÙˆØ¬ÛŒ:** Ø±Ú©ÙˆØ±Ø¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡

#### `updateInventoryRecord(inventoryId: string, updates: Partial<Productwarehouse>): Promise<Productwarehouse>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø±Ú©ÙˆØ±Ø¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
- **ÙˆØ±ÙˆØ¯ÛŒ:**
  - `inventoryId`: Ø´Ù†Ø§Ø³Ù‡ Ø±Ú©ÙˆØ±Ø¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
  - `updates`: ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
- **Ø®Ø±ÙˆØ¬ÛŒ:** Ø±Ú©ÙˆØ±Ø¯ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡

#### `transferStock(fromWarehouseId: string, toWarehouseId: string, variantId: string, batchNumber: string, quantity: number): Promise<{from: Productwarehouse, to: Productwarehouse}>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø§Ù†ØªÙ‚Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨ÛŒÙ† Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§
- **ÙˆØ±ÙˆØ¯ÛŒ:** Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ù†ØªÙ‚Ø§Ù„
- **Ø®Ø±ÙˆØ¬ÛŒ:** Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø¨Ø¯Ø§ Ùˆ Ù…Ù‚ØµØ¯

#### `recordHistory(inventoryId: string, changeType: string, quantityChanged: number, batchNumber: string, reason: string): Promise<InventoryHistory>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ø«Ø¨Øª ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª
- **ÙˆØ±ÙˆØ¯ÛŒ:** Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØºÛŒÛŒØ±
- **Ø®Ø±ÙˆØ¬ÛŒ:** Ø±Ú©ÙˆØ±Ø¯ ØªØ§Ø±ÛŒØ®Ú†Ù‡

#### `listInventory(warehouseId?: string, filters?: any, pagination?: {page: number, limit: number}): Promise<{inventory: Productwarehouse[], total: number}>`
- **ØªÙˆØ¶ÛŒØ­Ø§Øª:** Ù„ÛŒØ³Øª Ù…ÙˆØ¬ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
- **ÙˆØ±ÙˆØ¯ÛŒ:** ÙÛŒÙ„ØªØ±Ù‡Ø§ Ùˆ pagination
- **Ø®Ø±ÙˆØ¬ÛŒ:** Ù„ÛŒØ³Øª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„

---

## Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡

### 1. Product (Ù…Ø­ØµÙˆÙ„)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/product/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  title: string,              // Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ØµÙˆÙ„
  summary: string,            // Ø®Ù„Ø§ØµÙ‡
  description: string,        // ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„
  price: number,              // Ù‚ÛŒÙ…Øª Ù¾Ø§ÛŒÙ‡
  brand: ObjectId,            // Ø¨Ø±Ù†Ø¯
  category: Array<ObjectId>,  // Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§
  features: Array<{          // ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§
    id: ObjectId,
    values: Array
  }>,
  image: string,              // ØªØµÙˆÛŒØ± Ø§ØµÙ„ÛŒ
  viewCount: number,          // ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²Ø¯ÛŒØ¯
  saleCount: number,          // ØªØ¹Ø¯Ø§Ø¯ ÙØ±ÙˆØ´
  // ... ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ BasePage
}
```

---

### 2. Order (Ø³ÙØ§Ø±Ø´)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/order/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  user: ObjectId,             // Ú©Ø§Ø±Ø¨Ø±
  orderList: Array<{          // Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
    product: ObjectId,
    productwarehouse: ObjectId,
    price: number,
    quantity: number
  }>,
  totalCost: number,          // Ù‡Ø²ÛŒÙ†Ù‡ Ú©Ù„ (Ø®Ø±ÛŒØ¯ + Ø¬Ø§Ø±ÛŒ)
  totalPriceProducts: number, // Ù‚ÛŒÙ…Øª Ú©Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª
  address: ObjectId,          // Ø¢Ø¯Ø±Ø³ Ø§Ø±Ø³Ø§Ù„ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
  createdAt: Date            // ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯
}
```

---

### 3. Basket (Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/basket/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  user: ObjectId,             // Ú©Ø§Ø±Ø¨Ø±
  basketList: Array<{         // Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø± Ø³Ø¨Ø¯
    product: ObjectId,
    productwarehouse: ObjectId,
    price: number,
    quantity: number
  }>
}
```

---

### 4. Address (Ø¢Ø¯Ø±Ø³)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/address/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  user: ObjectId,             // Ú©Ø§Ø±Ø¨Ø±
  addressList: Array<{        // Ù„ÛŒØ³Øª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§
    title: string,            // Ø¹Ù†ÙˆØ§Ù† (Ø®Ø§Ù†Ù‡ØŒ Ù…Ø­Ù„ Ú©Ø§Ø±)
    receiver: {               // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú¯ÛŒØ±Ù†Ø¯Ù‡
      name: string,
      family: string,
      phoneNumber: string
    },
    country: string,          // Ú©Ø´ÙˆØ±
    province: string,         // Ø§Ø³ØªØ§Ù†
    city: string,             // Ø´Ù‡Ø±
    district: string,         // Ù…Ù†Ø·Ù‚Ù‡
    street: string,           // Ø®ÛŒØ§Ø¨Ø§Ù†
    details: string,          // Ø¬Ø²Ø¦ÛŒØ§Øª
    postalCode: string,       // Ú©Ø¯ Ù¾Ø³ØªÛŒ
    location: {               // Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
      lat: number,
      lng: number
    },
    isDefault: boolean,       // Ø¢Ø¯Ø±Ø³ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
    createdAt: Date,
    updatedAt: Date
  }>
}
```

---

### 5. ProductWarehouse (Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/productWarehouse/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  warehouse: ObjectId,        // Ø§Ù†Ø¨Ø§Ø±
  variant: ObjectId,           // ÙˆØ§Ø±ÛŒØ§Ù†Øª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
  product: ObjectId,          // Ù…Ø­ØµÙˆÙ„
  quantity: number,           // Ù…ÙˆØ¬ÙˆØ¯ÛŒ
  variantPrice: number,        // Ù‚ÛŒÙ…Øª ÙˆØ§Ø±ÛŒØ§Ù†Øª
  purchasePrice: number,      // Ù‚ÛŒÙ…Øª Ø®Ø±ÛŒØ¯
  price: number,              // Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´
  minStockThreshold: number,  // Ø­Ø¯Ø§Ù‚Ù„ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
  batchNumber: string,        // Ø´Ù…Ø§Ø±Ù‡ Ø¨Ú†
  lastUpdated: Date,          // Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
  config: object              // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø¶Ø§ÙÛŒ
}
```

---

### 6. Warehouse (Ø§Ù†Ø¨Ø§Ø±)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/warehouse/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  title: string,              // Ø¹Ù†ÙˆØ§Ù† Ø§Ù†Ø¨Ø§Ø±
  description: string,         // ØªÙˆØ¶ÛŒØ­Ø§Øª
  address: string,            // Ø¢Ø¯Ø±Ø³
  phone: string,              // ØªÙ„ÙÙ†
  manager: ObjectId,          // Ù…Ø¯ÛŒØ±
  capacity: number,           // Ø¸Ø±ÙÛŒØª
  is_active: boolean          // ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„
}
```

---

### 7. Discount (ØªØ®ÙÛŒÙ)

**Ù…Ø³ÛŒØ±:** `src/repositories/admin/discount/model.ts`

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
```typescript
{
  disTitle: string,           // Ø¹Ù†ÙˆØ§Ù† ØªØ®ÙÛŒÙ
  disType: "general" | "special",
  applyOnInvoice: boolean,    // Ø§Ø¹Ù…Ø§Ù„ Ø±ÙˆÛŒ ÙØ§Ú©ØªÙˆØ±
  autoApplyOnInvoice: boolean, // Ø§Ø¹Ù…Ø§Ù„ Ø®ÙˆØ¯Ú©Ø§Ø±
  disStart: Date,             // ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹
  disEnd: Date,               // ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†
  firstInvoiceOnly: boolean,  // ÙÙ‚Ø· Ø§ÙˆÙ„ÛŒÙ† Ø®Ø±ÛŒØ¯
  amountRange: {              // Ø¨Ø§Ø²Ù‡ Ù…Ø¨Ù„Øº
    from: number,
    to: number
  },
  disValue: {                 // Ù…Ù‚Ø¯Ø§Ø± ØªØ®ÙÛŒÙ
    type: "fixed" | "random" | "percent",
    fixedAmount: number,
    randomRange: {from: number, to: number}
  },
  maxProfitLimit: boolean,    // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø³ÙˆØ¯
  usageCount: number,         // ØªØ¹Ø¯Ø§Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡
  generateCode: boolean,      // ØªÙˆÙ„ÛŒØ¯ Ú©Ø¯
  disCode: string,            // Ú©Ø¯ ØªØ®ÙÛŒÙ
  filters: {                  // ÙÛŒÙ„ØªØ±Ù‡Ø§
    userFilter: {...},
    productFilter: {...}
  },
  isActive: boolean
}
```

---

## API Endpoints

### Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª (`/admin`)

#### Ù…Ø­ØµÙˆÙ„Ø§Øª
- `POST /admin/product` - Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„
- `GET /admin/product` - Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª (Ø¨Ø§ pagination Ùˆ ÙÛŒÙ„ØªØ±)
- `GET /admin/product/:id` - Ø¯Ø±ÛŒØ§ÙØª ÛŒÚ© Ù…Ø­ØµÙˆÙ„
- `PUT /admin/product/update` - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„
- `DELETE /admin/product/:id` - Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„

#### Ø³ÙØ§Ø±Ø´Ø§Øª
- `POST /admin/order/checkout` - Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯
  - **Body:** `{orderList: Array<{productwarehouse: ObjectId, quantity: number}>}`
  - **Response:** `{order, discount, payment, totals}`

#### Ø§Ù†Ø¨Ø§Ø±
- `GET /admin/warehouse` - Ù„ÛŒØ³Øª Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§
- `POST /admin/warehouse` - Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù†Ø¨Ø§Ø±
- `GET /admin/warehouse/:warehouseId/inventory` - Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø§Ù†Ø¨Ø§Ø±
- `POST /admin/warehouse/:warehouseId/inventory` - Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ
- `POST /admin/warehouse/purchase-invoices` - ÙØ§Ú©ØªÙˆØ± Ø®Ø±ÛŒØ¯
- `POST /admin/warehouse/sale-invoices` - ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´
- `POST /admin/warehouse/warehouse-transfers` - Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÛŒÙ† Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§
- `GET /admin/warehouse/inventory/low-stock` - Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù…
- `GET /admin/warehouse/inventory/history/:inventory_id` - ØªØ§Ø±ÛŒØ®Ú†Ù‡

#### Ø¢Ø¯Ø±Ø³
- `GET /admin/address/user` - Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
- `POST /admin/address/user` - Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³
- `PUT /admin/address/user` - ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³
- `DELETE /admin/address/user` - Ø­Ø°Ù Ø¢Ø¯Ø±Ø³

#### ØªØ®ÙÛŒÙ
- `POST /admin/discount/generate-after-invoice` - ØªÙˆÙ„ÛŒØ¯ Ú©Ø¯ ØªØ®ÙÛŒÙ
- `GET /admin/discount/list` - Ù„ÛŒØ³Øª ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§

---

### Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ (`/user`)

#### Ù…Ø­ØµÙˆÙ„Ø§Øª
- `GET /user/product` - Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
- `GET /user/product/:id` - Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„

#### Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
- `POST /user/basket` - Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
- `POST /user/basket/increase` - Ø§ÙØ²Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯
- `POST /user/basket/decrease` - Ú©Ø§Ù‡Ø´ ØªØ¹Ø¯Ø§Ø¯
- `POST /user/basket/checkout` - ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨
  - **Body:** `{address, offCode, sendType, sendTime, sendDate, isBig, typePeyment, totalPriceProducts}`
  - **Response:** `{order, payment, totals}`

#### Ø³ÙØ§Ø±Ø´Ø§Øª
- `GET /user/order` - Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª Ú©Ø§Ø±Ø¨Ø±
- `GET /user/order/:id` - Ø¬Ø²Ø¦ÛŒØ§Øª ÛŒÚ© Ø³ÙØ§Ø±Ø´

#### Ø¢Ø¯Ø±Ø³
- `GET /user/address` - Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
- `POST /user/address` - Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³
- `PUT /user/address` - ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³
- `DELETE /user/address` - Ø­Ø°Ù Ø¢Ø¯Ø±Ø³
- `PUT /user/address/default` - ØªÙ†Ø¸ÛŒÙ… Ø¢Ø¯Ø±Ø³ Ù¾ÛŒØ´â€ŒÙØ±Ø¶

---

## Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡

### Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§

```bash
npm install
```

### ØªÙ†Ø¸ÛŒÙ… ÙØ§ÛŒÙ„ Ù…Ø­ÛŒØ·ÛŒ

ÙØ§ÛŒÙ„ `.env` Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯:

```env
DB_URL=mongodb://127.0.0.1:27017/your-database-name
DB_USER=your-username
DB_PASSWORD=your-password
JWT_SECRET=your-secret-key
REDIS_PASSWORD=your-redis-password
```

### Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡

```bash
npm run build
```

### Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

```bash
# Development
npm run watch

# Production
npm run serve-prod
```

### Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Swagger

Ù¾Ø³ Ø§Ø² Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡:
```
http://localhost:7000/swagger
```

---

## Ø§Ù…Ù†ÛŒØª

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø³ Ú©Ù‡ Ø¯Ø± `.gitignore` Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù†Ø¯:

âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ `.env` Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª  
âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ (`.db`, `.sqlite`, `.sql`)  
âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ backup  
âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Google API  
âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ upload Ø´Ø¯Ù‡  
âœ… Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ùˆ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆÙ‚Øª  

### Ù†Ú©Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ:

1. **Ù‡Ø±Ú¯Ø²** ÙØ§ÛŒÙ„ `.env` Ø±Ø§ commit Ù†Ú©Ù†ÛŒØ¯
2. Ø§Ø² **JWT Secret** Ù‚ÙˆÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
3. **Ø±Ù…Ø²Ù‡Ø§ÛŒ Ø¹Ø¨ÙˆØ±** Ø±Ø§ Ø¯Ø± Ú©Ø¯ hard-code Ù†Ú©Ù†ÛŒØ¯
4. Ø§Ø² **HTTPS** Ø¯Ø± production Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
5. **Token Ù‡Ø§ÛŒ API** Ø±Ø§ Ø¯Ø± Ø¬Ø§ÛŒ Ø§Ù…Ù† Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯

---

## Ø¬Ø±ÛŒØ§Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±ÛŒ Ù…Ù‡Ù…

### Ø¬Ø±ÛŒØ§Ù† Ø®Ø±ÛŒØ¯ (Checkout Flow)

```
1. Ú©Ø§Ø±Ø¨Ø± Ù…Ø­ØµÙˆÙ„Ø§Øª Ø±Ø§ Ø¨Ù‡ Ø³Ø¨Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   â†“
2. Ú©Ø§Ø±Ø¨Ø± Ø±ÙˆÛŒ "ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨" Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   â†“
3. Ø³ÛŒØ³ØªÙ… Ø³Ø¨Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   â†“
4. Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…Ø­ØµÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
5. Ù‚ÛŒÙ…Øª Ú©Ù„ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
6. Ø¢Ø¯Ø±Ø³ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´ Ù…ØªØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
7. Ø³ÙØ§Ø±Ø´ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
8. Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯
   â†“
9. Ø³Ø¨Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø®Ø§Ù„ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
10. ØªØ®ÙÛŒÙ (Ø¯Ø± ØµÙˆØ±Øª ÙˆØ¬ÙˆØ¯) Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
11. Ù¾Ø±Ø¯Ø§Ø®Øª ØªØ³ØªÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
12. Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
```

### Ø¬Ø±ÛŒØ§Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ

```
1. Ø§Ø¯Ù…ÛŒÙ† ÙØ§Ú©ØªÙˆØ± Ø®Ø±ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   â†“
2. InventoryService Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
   â†“
3. ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯
   â†“
4. Ø¯Ø± ØµÙˆØ±Øª ÙØ±ÙˆØ´ØŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯
   â†“
5. ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯
```

---

## Ù†Ú©Ø§Øª Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡

### 1. Ø³Ø§Ø®ØªØ§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§
- ØªÙ…Ø§Ù… Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ Ø¯Ø± `src/apps/admin/controllers` ÛŒØ§ `src/apps/user/controllers`
- ØªÙ…Ø§Ù… Repository Ù‡Ø§ Ø¯Ø± `src/repositories/admin`
- Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú© Ø¯Ø± `src/apps/services`

### 2. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Decorator Ù‡Ø§
```typescript
@Get("/route")
async method(
  @Body({schema: z.object({...})}) data: Type,
  @User() user: UserInfo
): Promise<Response> {
  // ...
}
```

### 3. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² Zod Ø¨Ø±Ø§ÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
```typescript
@Body({
  schema: z.object({
    title: z.string(),
    price: z.coerce.number().positive().int()
  })
})
```

### 4. Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§
```typescript
try {
  // ...
} catch (error: any) {
  if (error?.status) {
    return {
      status: error.status,
      message: error.message
    };
  }
  throw error;
}
```

---

## ØªØ³Øª

Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§:

```bash
npm test
```

---

## Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§

```bash
npm run upgrade
```

---

## Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

Ø¨Ø±Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ú¯ ÛŒØ§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ÙˆÛŒÚ˜Ú¯ÛŒ Ø¬Ø¯ÛŒØ¯ØŒ Ø§Ø² Issues Ø¯Ø± GitHub Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

---

**ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†:** Hasan Mohammadi, Mahtdy  
**Ù†Ø³Ø®Ù‡:** 1.0.0  
**ØªØ§Ø±ÛŒØ®:** 2025

